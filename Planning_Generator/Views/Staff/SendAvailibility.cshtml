@using Logic.Employee
@{
    ViewData["Title"] = "Staff Send Availability";
}
@using Logic.Companys
@model Planning_Generator.Models.AvailabilityStaff_M
<div class="text-center">
    <p class="display-4">Verstuur jouw beschikbaarheid!</p>
</div>
<br />
<br />


<form method="post" asp-action="SendAvailibility">
    <div class="form-group">
        <label for="WeekAvailability">Week Availability:</label>
        <input type="datetime" name="WeekAvailability" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="Company">Company:</label>
        <select name="Company_Name" class="form-control" required>
            @foreach (var company in LogicRefecator.CompanyModelManager.Companies)
            {
                <option value="@company.Name">@company.Name</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="Shifts">Shifts:</label>

        @foreach (DayOfWeek day in Enum.GetValues(typeof(Logic.Enum.DayOfWeek)))
        {
            <div class="day-of-week">
                <label>@day:</label>
                <input type="checkbox" name="DayOfWeek@day" class="day-of-week" />
            </div>
            <br />
            <div class="shift-hour" style="display:none;">
                <select name="shift-hour" class="form-control" required>
                    @foreach (var shift in Enum.GetValues(typeof(Logic.Enum.ShiftHour)))
                    {
                        <option value="@shift.ToString()">@shift.ToString()</option>
                    }
                </select>
            </div>
        }
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>






    <div class="mb-3">
        <a class="btn btn-outline-primary" asp-action="Shedule">Zie rooster</a>
    </div>

    @if (CurrentActive<StaffMember>.Current.Role == Logic.Enum.CompanyRole.Manager)
        {
        <div class="mb-3">
            <a class="btn btn-outline-primary" asp-action="AddStaff">Management add staff</a>
        </div>
        <div class="mb-3">
            <a class="btn btn-outline-primary" asp-action="AddCompany">Management add company</a>
        </div>
        }



<script>
    var dayOfWeekElements = document.getElementsByClassName('day-of-week');
    var shiftHourElements = document.getElementsByClassName('shift-hour');

    for (var i = 0; i < dayOfWeekElements.length; i++) {
        dayOfWeekElements[i].addEventListener('change', function () {
            if (this.checked) {
                shiftHourElements[i].style.display = 'block';
            } else {
                shiftHourElements[i].style.display = 'none';
            }
        });
    }
</script>
